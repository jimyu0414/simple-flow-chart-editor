(this["webpackJsonpflow-chart-client"]=this["webpackJsonpflow-chart-client"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(6),s=a.n(r),i=a(1),c=a(2),l=a(4),p=a(3),h=a(5),d=(a(14),a(8)),u=a.n(d),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={activeDrags:0,deltaPosition:{x:0,y:0},controlledPosition:{x:-400,y:200}},a.handleDrag=function(e,t){var n=a.state.deltaPosition,o=n.x,r=n.y;a.setState({deltaPosition:{x:o+t.deltaX,y:r+t.deltaY}})},a.adjustXPos=function(e){e.preventDefault(),e.stopPropagation();var t=a.state.controlledPosition,n=t.x,o=t.y;a.setState({controlledPosition:{x:n-10,y:o}})},a.adjustYPos=function(e){e.preventDefault(),e.stopPropagation();var t=a.state.controlledPosition,n=t.x,o=t.y;a.setState({controlledPosition:{x:n,y:o-10}})},a.onControlledDrag=function(e,t){var n=t.x,o=t.y;a.setState({controlledPosition:{x:n,y:o}})},a.onControlledDragStop=function(e,t){a.onControlledDrag(e,t),a.onStop()},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop},a=this.props.shapes.map((function(a){var n="box--"+a.shape,r={x:parseInt(a.positionx),y:parseInt(a.positiony)};return o.a.createElement(u.a,Object.assign({defaultPosition:r,onDrag:e.handleDrag,bounds:"parent"},t),o.a.createElement("div",{className:n},o.a.createElement("p",null,a.name)))}));return o.a.createElement("div",{className:"app__drag-panel"},a)}}]),t}(o.a.Component),m=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleShapeClick=function(){a.props.addShape(a.props.shape)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="menu__shape menu__shape--"+this.props.shape,t="#shape__"+this.props.shape;return o.a.createElement("svg",{onClick:this.handleShapeClick,className:e},o.a.createElement("use",{xlinkHref:t}))}}]),t}(o.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"app__menu"},o.a.createElement(m,{shape:"arrow-up",addShape:this.props.addShape}),o.a.createElement(m,{shape:"arrow-down",addShape:this.props.addShape}),o.a.createElement(m,{shape:"arrow-left",addShape:this.props.addShape}),o.a.createElement(m,{shape:"arrow-right",addShape:this.props.addShape}),o.a.createElement(m,{shape:"oval",addShape:this.props.addShape}),o.a.createElement(m,{shape:"diamond",addShape:this.props.addShape}))}}]),t}(n.Component),v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).handleMenuShapeClick=function(t){var a={shape:t,name:"defult",positionx:"0",positiony:"0"};e.setState({shapes:e.state.shapes.concat(a)})},e.handleJsonExport=function(){var t=JSON.stringify(e.state.shapes);a(15).writeFile("./chart.json",t,(function(e){e?console.log("Error writing file",e):console.log("Successfully wrote file")}))},e.state={shapes:[]},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/shapes").then((function(e){return e.json()})).then((function(t){return e.setState({shapes:t},(function(){return console.log("shapes fetched..",t)}))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"app__header"},o.a.createElement("h1",null,"Simple Flow Chart Editor"),o.a.createElement("p",null,"( Click to add a shape from left menu )"),o.a.createElement("button",{onClick:this.handleJsonExport},"EXPORT JSON")),o.a.createElement(S,{addShape:this.handleMenuShapeClick}),o.a.createElement(f,{shapes:this.state.shapes}))}}]),t}(o.a.Component);s.a.render(o.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.045c4b54.chunk.js.map