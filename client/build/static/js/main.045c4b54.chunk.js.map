{"version":3,"sources":["Components/DragPanel.js","Components/Shape.js","Components/MenuPanel.js","App.js","index.js"],"names":["DragPanel","state","activeDrags","deltaPosition","x","y","controlledPosition","handleDrag","e","ui","setState","deltaX","deltaY","adjustXPos","preventDefault","stopPropagation","adjustYPos","onControlledDrag","position","onControlledDragStop","onStop","dragHandlers","onStart","this","draggableShapes","props","shapes","map","shape","shapeClassName","parseInt","positionx","positiony","defaultPosition","onDrag","bounds","className","name","React","Component","Shape","handleShapeClick","addShape","menuShapeClass","getSvg","onClick","xlinkHref","MenuPanel","App","handleMenuShapeClick","newShape","concat","handleJsonExport","jsonString","JSON","stringify","require","writeFile","err","console","log","fetch","then","res","json","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.045c4b54.chunk.js","sourcesContent":["import React from 'react';\r\nimport Draggable from 'react-draggable';\r\n \r\nclass DragPanel extends React.Component {\r\n\r\nstate = {\r\n        activeDrags: 0,\r\n        deltaPosition: {\r\n          x: 0, y: 0\r\n        },\r\n        controlledPosition: {\r\n          x: -400, y: 200\r\n        }\r\n      };\r\n \r\n  handleDrag = (e, ui) => {\r\n    const {x, y} = this.state.deltaPosition;\r\n    this.setState({\r\n      deltaPosition: {\r\n        x: x + ui.deltaX,\r\n        y: y + ui.deltaY,\r\n      }\r\n    });\r\n    //console.log(this.state.deltaPosition.x + \"  \" + this.state.deltaPosition.y )\r\n  };\r\n\r\n\r\n  // For controlled component\r\n  adjustXPos = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const {x, y} = this.state.controlledPosition;\r\n    this.setState({controlledPosition: {x: x - 10, y}});\r\n  };\r\n\r\n  adjustYPos = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const {controlledPosition} = this.state;\r\n    const {x, y} = controlledPosition;\r\n    this.setState({controlledPosition: {x, y: y - 10}});\r\n  };\r\n\r\n  onControlledDrag = (e, position) => {\r\n    const {x, y} = position;\r\n    this.setState({controlledPosition: {x, y}});\r\n  };\r\n\r\n  onControlledDragStop = (e, position) => {\r\n    this.onControlledDrag(e, position);\r\n    this.onStop();\r\n  };\r\n\r\n\r\n \r\n  render() {\r\n    const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\r\n\r\n    const draggableShapes = this.props.shapes.map( shape=>{\r\n    //console.log(shape)\r\n    const shapeClassName = 'box--' + shape.shape;\r\n    const position = {\r\n      x: parseInt(shape.positionx),\r\n      y: parseInt(shape.positiony)\r\n    }\r\n    //console.log(position)\r\n    \r\n      return(\r\n        <Draggable defaultPosition={position} onDrag={this.handleDrag} bounds=\"parent\" {...dragHandlers}>\r\n              <div className={shapeClassName}>\r\n                <p>{shape.name}</p>\r\n              </div>\r\n        </Draggable>\r\n      )\r\n    })\r\n    return (\r\n        \r\n        <div className=\"app__drag-panel\">\r\n        {draggableShapes}\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n \r\nexport default DragPanel;","import React from 'react';\r\n\r\n\r\nclass Shape extends React.Component{\r\n\r\n   \r\n    handleShapeClick=()=>{\r\n        this.props.addShape(this.props.shape)\r\n    }\r\n    \r\n    render(){\r\n        const menuShapeClass = 'menu__shape menu__shape--'+this.props.shape;\r\n        const getSvg = '#shape__' + this.props.shape\r\n        return(\r\n            <svg onClick={this.handleShapeClick} className={menuShapeClass}>\r\n             <use xlinkHref={getSvg}/>\r\n            </svg>\r\n        )\r\n    }\r\n}\r\nexport default Shape","import React, {Component} from 'react';\r\nimport Shape from './Shape';\r\n\r\nclass MenuPanel extends Component {\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"app__menu\">\r\n\r\n             <Shape shape='arrow-up' addShape={this.props.addShape}/>\r\n             <Shape shape='arrow-down' addShape={this.props.addShape}/>\r\n             <Shape shape='arrow-left' addShape={this.props.addShape}/>\r\n             <Shape shape='arrow-right' addShape={this.props.addShape}/>\r\n             <Shape shape='oval' addShape={this.props.addShape}/>\r\n             <Shape shape='diamond' addShape={this.props.addShape}/>\r\n\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default MenuPanel","import React from 'react';\nimport './App.scss';\nimport DragPanel from './Components/DragPanel'; \nimport MenuPanel from './Components/MenuPanel';\n\nclass App extends React.Component {\nconstructor(){\n  super();\n  this.state={\n    shapes:[]\n  }\n}\n\ncomponentDidMount(){\n  fetch('/api/shapes')\n    .then(res => res.json())\n    .then(shapes => this.setState({shapes},()=>console.log('shapes fetched..',shapes)));\n}\n\n\n  //add new shape to drag pannel\n  handleMenuShapeClick = (shape) =>{\n    let newShape = {\n      shape: shape,\n      name:\"defult\",\n      positionx:\"0\",\n      positiony:\"0\"\n    }    \n    this.setState({\n      shapes: this.state.shapes.concat(newShape)\n    })\n  }\n\n  //export to json file\n  handleJsonExport = () => {\n    const jsonString = JSON.stringify(this.state.shapes);\n    \n    const fs = require('fs');\n    fs.writeFile('./chart.json',jsonString,err=>{\n        if (err) {\n          console.log('Error writing file', err)\n      } else {\n          console.log('Successfully wrote file')\n      }\n    })\n\n  }\n\n  render(){\n    return(\n      <div className=\"app\">\n    <div className=\"app__header\">\n    <h1>Simple Flow Chart Editor</h1> \n    <p>( Click to add a shape from left menu )</p>\n    <button onClick={this.handleJsonExport}>EXPORT JSON</button>\n    </div>\n      <MenuPanel\n        addShape = {this.handleMenuShapeClick}\n      />\n      <DragPanel\n        shapes = {this.state.shapes}\n      />\n    </div>\n    )\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}